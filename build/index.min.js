!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular"),require("vue")):"function"==typeof define&&define.amd?define("ngVue",["exports","angular","vue"],e):e(n.ngVue=n.ngVue||{},n.angular,n.Vue)}(this,function(n,e,r){"use strict";function t(n,e){return function(){n.apply(this,arguments),e.apply(this,arguments)}}function i(n,e){return m.isFunction(n)?n:e.get(n)}function o(n){return n.charAt(0).toLowerCase()+n.slice(1)}function u(n,e){return o(n.slice(e.length))}function a(n,e){var r={props:"vProps",data:"vData",on:"vOn"}[n],t=new RegExp(r,"i"),i=e[r];if(m.isDefined(i))return i;var o=Object.keys(e).filter(function(n){return t.test(n)});if(0===o.length)return null;var a={};return o.forEach(function(n){var t=u(n,r);a[t]=e[n]}),a}function c(n){return{data:a("data",n),props:a("props",n),events:a("on",n)}}function f(n,t){return function(i){e.isString(n)?i(n,r.set.bind(r,t,"_v")):Object.keys(n).forEach(function(e){i(n[e],r.set.bind(r,t._v,e))})}}function s(n,r){return function(t){var i=t;r&&(i=e.isArray(t)?[].concat(_(t)):e.isObject(t)?O({},t):t),n(i)}}function l(n,e,r,t){var i=n.props?n.props:n.data;if(i){var o=r.depth,u=r.quirk,a=f(i,e);switch(o){case"value":a(function(n,e){t.$watch(n,s(e,u),!0)});break;case"collection":a(function(n,e){t.$watchCollection(n,s(e,u))});break;case"reference":default:a(function(n,e){t.$watch(n,s(e,u))})}}}function v(n,e){var r=n[n.props?"props":"data"];if(!r)return null;if(m.isString(r))return e.$eval(r);var t={};return Object.keys(r).forEach(function(n){t[n]=e.$eval(r[n])}),t}function p(n,e){var r=n.events;if(!r||!m.isObject(r))return null;var t={};return Object.keys(r).forEach(function(n){t[n]=e.$eval(r[n]);var i=t[n];m.isFunction(i)&&(t[n]=function(){var n=arguments;return e.$evalAsync(function(){return i.apply(null,n)})})}),t}function d(n){return n.constructor.name}function y(n,e){var r=n.vDirectives;if(m.isUndefined(r))return null;var t=e.$eval(r),i=j[d(t)];return i?i(t):null}function g(n,e,t,o,u){var a=u.has("$ngVue")?u.get("$ngVue"):null,f=u.get("$compile"),s=c(t),d=i(n,u),g=y(t,o)||[],h={_v:v(s,o)||{}},$=p(s,o)||{},b=!!a&&a.inQuirkMode(),_=a?a.getVueHooks():{},j=_.mounted;_.mounted=function(){if(e[0].innerHTML.trim()){var n=f(e[0].innerHTML)(o),r=this.$refs.__slot__;r.parentNode.replaceChild(n[0],r)}m.isFunction(j)&&j.apply(this,arguments)};var A=a?{store:a.getVuexStore()}:{},V={depth:t.watchDepth,quirk:b};l(s,h,V,o);var w=new r(O({name:"NgVue",el:e[0],data:h,render:function(n){return n(d,k([{directives:g},{props:h._v,on:$}]),[n("span",{ref:"__slot__"},[])])}},_,A));o.$on("$destroy",function(){w.$destroy(),w.$el&&w.$el.remove?w.$el.remove():console.warn("can not remove ",w.$el)})}function h(n){return function(e,r){var t={restrict:"E",link:function(r,t,i){g(e,t,i,r,n)}};return m.extend(t,r)}}function $(n){return{restrict:"E",link:function(e,r,t){g(t.name,r,t,e,n)}}}var m="default"in e?e.default:e;r="default"in r?r.default:r;var b=/^(attrs|props|on|nativeOn|class|style|hook)$/,k=function(n){return n.reduce(function(n,e){var r,i,o,u,a;for(o in e)if(r=n[o],i=e[o],r&&b.test(o))if("class"===o&&("string"==typeof r&&(a=r,n[o]=r={},r[a]=!0),"string"==typeof i&&(a=i,e[o]=i={},i[a]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(u in i)r[u]=t(r[u],i[u]);else if(Array.isArray(r))n[o]=r.concat(i);else if(Array.isArray(i))n[o]=[r].concat(i);else for(u in i)r[u]=i[u];else n[o]=e[o];return n},{})},O=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},_=function(n){if(Array.isArray(n)){for(var e=0,r=Array(n.length);e<n.length;e++)r[e]=n[e];return r}return Array.from(n)},j={Object:function(n){return[n]},Array:function(n){return n},String:function(n){return n.split(/\s*,\s*/g).filter(Boolean).map(function(n){return{name:n}})}},A=m.module("ngVue",[]).directive("vueComponent",["$injector",$]).factory("createVueComponent",["$injector",h]);n.ngVue=A,Object.defineProperty(n,"__esModule",{value:!0})});
